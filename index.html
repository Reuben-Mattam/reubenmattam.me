<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HOME</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="images/logo !.png" type="image/png" />
    <script src="animations.js" defer></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Giga:wght@100..900&family=Lexend:wght@100..900&family=Libre+Caslon+Display&display=swap" rel="stylesheet">
    <style>

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
        }

/* start-up section */
        #start-up {
            height: 100vh;
            width: 100vw;
            position: absolute;

            display: flex;
            align-items: center;
            justify-content: center;

            opacity: 1;
            transition: opacity 1s ease-out, filter 1s ease-out;
            z-index: 2;
        }

        #start-up.fade-out {
            opacity: 0;
            filter: blur(8px);
        }

        #start-up > img {
            height: auto;
            width: 25vw;
            min-width: 500px;

            display: block;
        }

        #whoami {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);

            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        #whoami img {
            width: 25px;
            height: auto;
        }

        #whoami h1 {
            margin: 0 10px;
            font-size: 1.5em;
        }

        @media (max-width: 650px) {
            #start-up > img {
                min-width: 400px;
            }
        }

        @media (max-width: 450px) {
            #start-up > img {
                min-width: 350px;
            }
        }
/* start-up section */

/* landing page section */
        #landing-page {
            height: 100vh;
            width: 100vw;
            position: relative;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;

            opacity: 1;
            filter: blur(8px);
            transition: opacity 1s ease-out, filter 1s ease-out;
            z-index: 1;
        }

        #landing-page.reveal {
            opacity: 1;
            filter: blur(0);
        }

        #intro {
            width: 80%;
            height: calc(80vw / 2);
            position: absolute;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .intro-title {
            height: 33.3%;
            width: 100%;

            font-size: 6.5vw;
        }
        #start {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #middle {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* sub heading */
        #me {
            height: 100%;
            width: 20%;

            display: flex;
            flex-direction: column;
            justify-content: center;
            font-family: "Lexend", sans-serif;
            
        }

        .me-text {
            font-size: 3vw;
            color: #A5A5A5;
        }

        #first-line {
            display: flex;
            justify-content: center;
        }

        #middle-line {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        #subheading-name {
            position: relative;
            left: 5vw;
            top: 4px;
            font-size: 1.15vw;
            color: #e5e7e6;
            
            display: flex;
            justify-content: end;
            align-items: center;
        }

        #last-line {
            display: flex;
            justify-content: center;
        }
        /* sub heading */

        #middle-text {
            width: auto;
        }

        #end {
            position: relative;

            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #mobile-display {
            display: none;
        }

        #hook-intro {
            width: 80%;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);

            font: 1vw;
            color: #e5e7e6;

            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        #line {
            width: 100%;
            height: 4px;
            margin: 12px 0;
            background-color: #e5e7e6;
        }

        #mobile-me {
            display: flex;
            flex-direction: column;
            text-align: end;
            margin-top: 24px;
            font-family: "Lexend", sans-serif;
        }

        .mobile-me-text {
            font-size: 4.5vw;
            text-decoration: none;
            color: #A5A5A5;
        }

        #mobile-subheading-name {
            font-size: 3.5vw;
            margin-top: 8px;
        }

        #mobile-hook {
            position: absolute;
            top: 50vh;
            width: 100%;

            display: flex;
            justify-content: start;

            color: #e5e7e6;
        }

        #mobile-hook:hover {
            text-decoration: none;
        }
        /* mobile-hidden */

        @media (max-width: 650px) {
            #intro {
                width: calc(100vw - 24px);
                height: 40%;
                margin: 0 12px;
            }

            .intro-title {
                height: calc(7vw + 24px);
                font-size: 8vw;
            }

            #me {
                display: none;
            }

            #start {
                justify-content: start;
            }

            #end {
                justify-content: start;
            }

            #hook-intro {
                display: none;
            }

            #mobile-display {
                width: 100%;
                height: auto;
    
                display: flex;
                flex-direction: column;
            }
        }

        @media (max-height: 600px) {
            #mobile-hook {
                margin-top: 24px;
                font-size: 3vw;
            }
        }
/* landing page section */

/* hook section */
        #hook-section {
            width: 100vw;
            height: 150vh;
            position: relative;
            margin-top: -5vh;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;

            background:
                url(images/home/background-left.png) no-repeat left calc(0% + 48px) / auto 80%,
                url(images/home/background-right.png) no-repeat right calc(0% + 24px) / auto 80%;
        }

        @media (max-width: 650px) {
            #hook-section {
                margin-top: 24px;
                background:
                url(images/home/background-left.png) no-repeat left calc(0% + 24px) / auto 100%,
                url(images/home/background-right.png) no-repeat right calc(0% + 24px) / auto 100%;
            }
        }

        #scroll-video {
            width: max(50vw, 45vh);
            aspect-ratio: 16 / 9;
        
            position: sticky;
            top: 20vh;
            padding: 12px;
            
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #video {
            width: 100%;
            height: 100%;
        
            border-radius: 18px;
            
            object-fit: cover;
            object-position: center;
            transition: opacity 0.5s ease-in-out;
        
            outline: 4px solid #e5e7e6;
            outline-offset: -16px;
        }

        /* mobile-hidden */
        #mobile-proj {
            display: none;
        }

        #mobile-proj-title {
            width: calc(100vw - 24px);
            text-align: end;
        }

        .mobile-proj-box {
            height: 100vw;
            width: calc(100vw - 24px);

            margin: 0 12px;
            margin-bottom: 48px;
        }

        .mobile-proj-img {
            width: 100%;
            height: 75%;

            object-fit: cover;
            object-position: center;
        }

        .mobile-proj-box > h2.mobile-me-text {
            margin-bottom: 0px;
            color: #A5A5A5;
        }

        .mobile-proj-headings {
            font-size: 8vw;

            text-align: end;
            margin-top: 0px;
        }
        /* mobile-hidden */
        
        @media (max-width: 650px) {
            #hook-section {
                height: auto;
            }

            #scroll-video {
                display: none;
            }

            #mobile-proj {
                display: block;
            }
        }
/* hook section */

/* end section */
        #end-section {
            position: relative;
            height: auto;
            display: flex;
            flex-direction: column;
        }

        #backgroundtemp {
            height: 50vh;
            width: 100%;

            margin-top: -30vh;
            background-color: #103021;
            z-index: -100000;

            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        .proj-name-desc {
            max-width: 25vw;
            padding: 24px;

            display: flex;
            justify-content: center;
            text-align: end;
        }

        #proj-name {
            display: flex;
            justify-content: start;
            text-align: left;
            align-items: start;
        }

        .fade-out {
            opacity: 0;
        }

        #final-title {
            width: 100%;
            height: 6vw;
            position: absolute;

            display: flex;
            justify-content: center;
            align-items: end;
            text-align: center;
            font-size:  6vw;
            margin-top: 48px;
        }

        /* carousell time bar */
        #line {
            width: calc(100% - 24px);
            height: 2px;
            position: absolute;
            
            margin: 96px 12px;

            background-color: #e5e7e6;
        }

        #circle {
            width: 16px;
            height: 16px;
            position: absolute;

            top: -8px;
            left: 0;

            background-color: #e5e7e6;
            border-radius: 50%;
            animation: move 20s infinite; /* ease in takes 0.5s therefore 20s*/
        }

        @keyframes move {
            0% {
                left: 24px;
                animation-timing-function: ease-in;
            }
            50% {
                left: calc(100% - 44px);
                animation-timing-function: ease-in;
            }
            100% {
                left: 24px;
            }
        }

        @media (max-height: 500px) {
            #line {
                margin-top: 48px;
            }
        }

        /* carousell time bar */

        /* mobile-hidden */
        #mobile-final-title {
            height: 24vw;
            width: 100%;

            display: none;
        }
        /* mobile-hidden */

        @media (max-width: 650px) {

            #backgroundtemp {
                display: none;
            }

            #final-title {
                display: none;
            }

            #mobile-final-title {
                width: 100%;
                display: flex;
                font-size: 8vw;
                margin-bottom: 48px;

                justify-content: center;
                align-items: center;
                text-align: end;
            }

            #line {
                display: none;
            }

            #circle {
                display: none;
            }
        }
/* end section */
        
        .footer-section {
            background-color: #103021;
        }

        @media (max-width: 650px) {
            .footer-section {
                background-color: #123524;
            }
            
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-left">
            <img src="images/logo !.png" alt="Logo" class="nav-logo" />
            <span class="nav-text">https://reubenmattam.me</span>
        </div>
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <ul class="nav-right">
            <li><a href="index.html" class="active">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="wrapped.html">Wrapped!</a></li>
        </ul>
    </nav>


    <section id="start-up" class="not-start">
        <img src="/images/home/1.jpg" alt="me" />
        <div id="whoami">
            <img src="/images/logo !.png" alt="logo" />
            <h1>reubenmattam.me</h1>
        </div>
    </section>
    
    <section id="landing-page" class="not-start">
        <div id="intro">
            <div id="start" class="intro-title">
                <h1>DATA SCIENCE</h1>
            </div>
            <div id="middle" class="intro-title">
                <div id="me">
                    <div class="me-text" id="first-line">Let Me Tell</div>
                        <div id="middle-line">
                            <div class="me-text">Your</div>
                            <div id="subheading-name">Reuben Mattam.</div>
                        </div>
                    <div class="me-text" id="last-line">Story.</div>
                </div>
                <div id="middle-text">
                    <h1>IS STORY-</h1>
                </div>
            </div>
            <div id="end" class="intro-title">
                <h1>TELLING !</h1>
            </div>
            <div id="mobile-display">
                <div id="line"></div>
                <div id="mobile-me">
                    <div class="mobile-me-text">Let me tell your Story !</div>
                    <div id="mobile-subheading-name">Reuben Mattam.</div>
                </div>
                <a id="mobile-hook" class="mobile-me-text" href="projects.html">See my Works &rArr;</a>
            </div>
        </div>
        <div id="hook-intro">
            <h1>My Works <span style="font-weight: normal;">&dArr;</span></h1>
            <h1>Keep Scrolling</h1>
        </div>
    </section>

    <div id="hook-section" class="not-start">
        <div id="scroll-video"> 
            <video id="video" autoplay loop muted>
                <source  src="images/home/bookstore.mp4" type="video/mp4">
                Your Browser does not support the Video Tag.
            </video>
        </div>
        <div id="mobile-proj">
            <h1 id="mobile-proj-title">My Works</h1>
            <div class="mobile-proj-box">
                <img class="mobile-proj-img" src="images/sample.jpg" alt="">
                <h2 class="mobile-me-text">Sample Text</h2>
                <h1 class="mobile-proj-headings">Project 1</h1>
            </div>
            <div class="mobile-proj-box">
                <img class="mobile-proj-img" src="images/sample.jpg" alt="">
                <h2 class="mobile-me-text" style="text-align: end;">Sample Text</h2>
                <h1 class="mobile-proj-headings" style="text-align: start;">Project 1</h1>
            </div>
            <div class="mobile-proj-box">
                <img class="mobile-proj-img" src="images/sample.jpg" alt="">
                <h2 class="mobile-me-text">Sample Text</h2>
                <h1 class="mobile-proj-headings">Project 1</h1>
            </div>
        </div>
    </div>

    <section id="end-section" class="not-start">
        <div id="backgroundtemp">
            <div class="proj-name-desc">
                <h1 class="highlight" id="proj-name">Bookstore Report</h1>
            </div>
            <div class="proj-name-desc">
                <h1 class="lowlight" id="proj-desc">Book Repository Analysis.</h1>
            </div>
        </div>
        <div id="line">
            <div id="circle"></div>
        </div>
        <div id="mobile-final-title">
            <h1>Let Me Tell Your Story</h1>
        </div>
    </section>
    
    

    <footer class="footer-section not-start">
        <div class="footer-left">
            <a href="index.html" class="active">Home</a>
            <a href="about.html">About</a>
            <a href="projects.html">Projects</a>
            <a href="contact.html">Contact</a>
            <a href="wrapped.html">Wrapped</a>
        </div>
        <div class="footer-center">
            <a href="home.html">
                <img src="images/logo !.png" alt="Website Logo" class="logo" />
            </a>
            <div class="social-links">
                <a href="https://www.instagram.com/reubenmattam" target="_blank" rel="noopener">
                    <img src="images/insta.png" alt="Instagram" />
                </a>
                <a href="https://www.linkedin.com/in/reuben-mattam-827746264/?originalSubdomain=au" target="_blank" rel="noopener">
                    <img src="images/linkdin.png" alt="LinkedIn" />
                </a>
                <a href="https://github.com/Reuben-Mattam" target="_blank" rel="noopener">
                    <img src="images/github.png" alt="GitHub" />
                </a>
            </div>
        </div>
        <div class="footer-right">
            <p>© 2024 Reuben Mattam</p>
        </div>
    </footer>

    <script>
        // starting animation !
        document.addEventListener("DOMContentLoaded", function () {
            const referrer = document.referrer;
            const isInternal = referrer.includes("reubenmattam.me");
        
            // Use the Navigation Timing API to check the navigation type.
            let navigationType = "navigate";
            if (performance.getEntriesByType("navigation").length > 0) {
                navigationType = performance.getEntriesByType("navigation")[0].type;
            }
            const isReload = navigationType === "reload";
        
            const startUpSection = document.getElementById("start-up");
            const landingPage = document.getElementById("landing-page");
        
            // If reloading or navigating from within the same domain, skip the animation.
            if (isInternal || isReload) {
                startUpSection.style.display = "none";
                landingPage.classList.add("reveal");
                document.body.style.overflow = "";
                return;
            }
        
            // Otherwise, play the animation.
            document.body.style.overflow = "hidden";
        
            const images = [
                "images/home/2.jpg",
                "images/home/4.jpg",
                "images/home/3.jpg",
                "images/home/4.jpg",
                "images/home/4.jpg",
            ];
            
            const imgElement = document.querySelector('#start-up img[alt="me"]');
            let currentIndex = 0;
            
            const flickerInterval = setInterval(() => {
                imgElement.src = images[currentIndex];
                currentIndex++;
                if (currentIndex >= images.length) {
                    clearInterval(flickerInterval);
                    startUpSection.classList.add("fade-out");
        
                    setTimeout(() => {
                        startUpSection.style.display = "none";
                        landingPage.classList.add("reveal");
                        document.body.style.overflow = ""; // allow scrolling
                    }, 1000); // Delay to match CSS transition.
                }
            }, 200); // cycle through images at 200ms per image.
        });

        // carousell at the bottom !
        document.addEventListener("DOMContentLoaded", function(){
            const videos = [
                'images/home/bookstore.mp4',
                'images/home/statssptfy.mp4',
                'images/home/portfolio.mp4'
            ];
        
            const projNames = [
                "Bookstore Report",
                "Stats.Sptfy",
                "Tracker.Sptfy"
            ];
        
            const projDescs = [
                "Book Repository Analysis",
                "Spotify Stats App",
                "Spotify Music Tracker"
            ];
        
            let currentIndex = 0;
            const videoElement = document.getElementById("video");
            const projNameElement = document.getElementById("proj-name");
            const projDescElement = document.getElementById("proj-desc");
        
            function rotateContent() {
                videoElement.classList.add("fade-out");
        
                setTimeout(function(){
                    currentIndex = (currentIndex + 1) % videos.length;
                    videoElement.src = videos[currentIndex];
                    videoElement.load();
                    videoElement.play();
        
                    projNameElement.textContent = projNames[currentIndex];
                    projDescElement.textContent = projDescs[currentIndex];
        
                    videoElement.classList.remove("fade-out");
                }, 500); // fade out duration 500ms
            }
        
            // video, text swap every 10 seconds
            setInterval(rotateContent, 10000);
        });
    </script>
</body>
</html>