<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HOME</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="images/logo !.png" type="image/png" />
    <script src="animations.js" defer></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Giga:wght@100..900&family=Lexend:wght@100..900&family=Libre+Caslon+Display&display=swap" rel="stylesheet">
    <style>

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
        }

/* start-up section */
        #start-up {
            height: 100vh;
            width: 100vw;
            position: absolute;

            display: flex;
            align-items: center;
            justify-content: center;

            opacity: 1;
            transition: opacity 1s ease-out, filter 1s ease-out;
            z-index: 2;
        }

        #start-up.fade-out {
            opacity: 0;
            filter: blur(8px);
        }

        #start-up > img {
            height: auto;
            width: 25vw;
            min-width: 500px;

            display: block;
        }

        #whoami {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);

            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;

            color: red;
            font-size: 48px;
        }

        #whoami img {
            width: 48px;
            height: auto;
        }

        #whoami h1 {
            margin: 0 10px;
            font-size: 1.5em;
        }

        @media (max-width: 650px) {
            #start-up > img {
                min-width: 400px;
            }

            #whoami {
                font-size: 28px;
            }

            #whoami img {
                width: 28px;
            }
        }

        @media (max-width: 450px) {
            #start-up > img {
                min-width: 350px;
            }

            #whoami {
                font-size: 20px;
            }

            #whoami img {
                width: 20px;
            }
        }
/* start-up section */

/* landing page section */
        #landing-page {
            height: 100vh;
            min-height: calc(40vw + 96px);
            width: 100vw;
            position: relative;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;

            opacity: 1;
            filter: blur(8px);
            transition: opacity 1s ease-out, filter 1s ease-out;
            z-index: 1;
        }

        #landing-page.reveal {
            opacity: 1;
            filter: blur(0);
        }

        #intro {
            width: 80%;
            height: 40vw;
            position: absolute;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .intro-title {
            height: 33.3%;
            width: 100%;

            font-size: 6.5vw;
        }
        #start {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #middle {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* sub heading */
        #me {
            height: 100%;
            width: 25%;

            display: flex;
            flex-direction: column;
            justify-content: center;
            font-family: "Lexend", sans-serif;
        }

        .me-text {
            font-size: 3vw;
            color: #A5A5A5;
        }

        #first-line {
            display: flex;
            justify-content: center;
        }

        #middle-line {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        #subheading-name {
            position: relative;
            left: 2vw;
            top: 4px;
            
            font-size: 1.25vw;
            color: #e5e7e6;
            
            display: flex;
            justify-content: end;
            align-items: center;
        }

        #last-line {
            display: flex;
            justify-content: center;
        }
        /* sub heading */

        #middle-text {
            width: auto;
        }

        #end {
            position: relative;

            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #mobile-display {
            display: none;
        }

        #hook-intro {
            width: 80%;

            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);

            font-size: 28px;

            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        /* mobile-hidden */
        #mobile-line {
            width: 100%;
            height: 4px;
            margin: 12px 0;
            background-color: #e5e7e6;
            display: none;
        }

        #mobile-me {
            display: flex;
            flex-direction: column;
            text-align: end;
            font-family: "Lexend", sans-serif;
        }

        .mobile-me-text {
            font-size: 28px;
            text-decoration: none;
            color: #A5A5A5;
        }

        #mobile-subheading-name {
            font-size: 20px;
            margin-top: 8px;
        }

        #mobile-hook {
            position: absolute;
            top: 50vh;
            width: 100%;

            display: flex;
            justify-content: start;

            color: #e5e7e6;
        }

        #mobile-hook:hover {
            text-decoration: none;
        }
        /* mobile-hidden */

        @media (max-width: 650px) {
            #landing-page {
                background:
                url(images/home/background-left.png) no-repeat left calc(0% + 48px) / auto 100%,
                url(images/home/background-right.png) no-repeat right calc(0% + 24px) / auto 100%;
            }

            #intro {
                width: calc(100vw - 24px);
                height: 40%;
                margin: 0 12px;
            }

            .intro-title {
                height: calc(7vw + 24px);
                font-size: 8vw;
            }

            #me {
                display: none;
            }

            #start {
                justify-content: start;
            }

            #end {
                justify-content: start;
            }

            #hook-intro {
                display: none;
            }

            #mobile-display {
                width: 100%;
                height: auto;
    
                display: flex;
                flex-direction: column;
            }

            #mobile-line {
                display: block;
            }
        }

        @media (max-height: 600px) {
            #mobile-hook {
                margin-top: 24px;
                font-size: 28px;
            }
        }
/* landing page section */

/* hook section */
        #hook-section {
            width: 100vw;
            height: 150vh;
            position: relative;
            margin-top: -5vh;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            

            background:
                url(images/home/background-left.png) no-repeat left calc(0% + 48px) / auto 80%,
                url(images/home/background-right.png) no-repeat right calc(0% + 24px) / auto 80%;
        }

        @media (max-width: 650px) {
            #hook-section {
                margin-top: 24px;
                background:
                url(images/home/background-left.png) no-repeat left calc(0% + 24px) / auto 100%,
                url(images/home/background-right.png) no-repeat right calc(0% + 24px) / auto 100%;
            }
        }

        #scroll-video {
            width: max(50vw, 45vh);
            aspect-ratio: 16 / 9;
        
            position: sticky;
            top: 20vh;
            padding: 12px;
            
            display: flex;
            justify-content: center;
            align-items: center;

        }
        
        #video {
            width: 100%;
            height: 100%;
        
            border-radius: 12px;
            
            object-fit: cover;
            object-position: center;
            transition: opacity 0.5s ease-in-out;
        
            outline: 4px solid #e5e7e6;
            outline-offset: -16px;
        }

        /* mobile-hidden */
        #mobile-proj {
            display: none;
        }

        #mobile-proj-title {
            width: calc(100vw - 24px);
            text-align: end;
        }

        .mobile-proj-box {
            height: auto;
            width: calc(100vw - 24px);

            margin: 0 12px 72px 12px;
        }

        .mobile-proj-img {
            width: 100%;
            aspect-ratio: 16/9;

            object-fit: cover;
            object-position: center;
        }

        .mobile-proj-box > h2.mobile-me-text {
            margin-bottom: 0px;
            color: #A5A5A5;
        }

        .mobile-proj-headings {
            font-size: 48px;

            text-align: end;
            margin-top: 0px;
            color: #e5e7e6;
        }
        /* mobile-hidden */
        
        @media (max-width: 650px) {
            #hook-section {
                height: auto;
            }

            #scroll-video {
                display: none;
            }

            #video {
                display: none !important;
            }

            #mobile-proj {
                display: block;
            }
        }
/* hook section */

/* end section */
        #end-section {
            position: relative;
            height: auto;
            display: flex;
            flex-direction: column;
        }

        #backgroundtemp {
            height: calc(96px + (max(50vw, 45vh) * 9)/32);
            width: 100%;

            margin-top: calc(-5vh + (max(50vw, 45vh) * 9)/-32);
            z-index: -100000;

            margin-bottom: calc(48px - 5vh);

            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        .proj-name-desc {
            max-width: 25vw;
            height: auto;
            padding: 24px;

            display: flex;
            justify-content: center;
            text-align: end;
        }

        #proj-name {
            display: flex;
            justify-content: start;
            text-align: left;
            align-items: start;
        }

        .fade-out {
            opacity: 0;
        }

        /* carousell time bar */
        #line {
            width: calc(100% - 48px);
            height: 2px;

            position: absolute;
            top: 36px;
            margin: calc(48px - 5vh) 24px 0 24px;
            background-color: #e5e7e6;
        }

        #circle {
            width: 16px;
            height: 16px;
            position: absolute;

            top: -8px;
            left: 0;

            background-color: #e5e7e6;
            border-radius: 50%;
            animation: move 20s infinite; /* ease in takes 0.5s therefore 20s*/
        }

        @keyframes move {
            0% {
                left: 24px;
                animation-timing-function: ease-in;
            }
            50% {
                left: calc(100% - 44px);
                animation-timing-function: ease-in;
            }
            100% {
                left: 24px;
            }
        }
        /* carousell time bar */

        /* mobile-hidden */
        #mobile-final-title {
            height: 24vw;
            width: 100%;

            display: none;
        }
        /* mobile-hidden */

        @media (max-width: 650px) {

            #backgroundtemp {
                display: none;
            }

            #mobile-final-title {
                width: 100%;

                display: flex;
                font-size: 8vw;
                margin-bottom: 96px;

                justify-content: center;
                align-items: center;
                text-align: end;
            }

            #line {
                display: none;
            }

            #circle {
                display: none;
            }
        }
/* end section */
        
        .footer-section {
            margin-top: 48px;
        }

        @media (max-width: 650px) {
            .footer-section {
                background-color: #123524;
            }
            
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-left">
            <a href="index.html"><img src="images/logo !.png" alt="Logo" class="nav-logo"></a>
            <a style="text-decoration: none; color: #e5e7e6;" href="index.html"><span class="nav-text">https://reubenmattam.me</span></a>
        </div>
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <ul class="nav-right">
            <li><a href="index.html" class="active">Home</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>


    <section id="start-up" class="not-start">
        <img src="images/home/1.png" alt="me" />
        <div id="whoami">
            <img src="/images/logo !.png" alt="logo" />
            <h1>reubenmattam.me</h1>
        </div>
    </section>
    
    <section id="landing-page" class="not-start">
        <div id="intro">
            <div id="start" class="intro-title">
                <h1>DATA SCIENCE</h1>
            </div>
            <div id="middle" class="intro-title">
                <div id="me">
                    <div class="me-text" id="first-line">Let Me Tell</div>
                        <div id="middle-line">
                            <div class="me-text">Your</div>
                            <div id="subheading-name">Reuben Mattam.</div>
                        </div>
                    <div class="me-text" id="last-line">Story.</div>
                </div>
                <div id="middle-text">
                    <h1>IS STORY-</h1>
                </div>
            </div>
            <div id="end" class="intro-title">
                <h1>TELLING !</h1>
            </div>
            <div id="mobile-display">
                <div id="mobile-line"></div>
                <div id="mobile-me">
                    <div class="mobile-me-text">Let me tell your Story.</div>
                    <div id="mobile-subheading-name">Reuben Mattam.</div>
                </div>
                <p id="mobile-hook" class="mobile-me-text">See my Works &dArr;</p>
            </div>
        </div>
        <div id="hook-intro">
            <p>My Works <span style="font-weight: normal;">&dArr;</span></p>
            <p>Keep Scrolling</p>
        </div>
    </section>

    <div id="hook-section" class="not-start">
        <div id="scroll-video">
            <a href="projects.html#project-section">
                <video id="video" autoplay loop muted playsinline>
                    <source  src="images/home/bookstore.mp4" type="video/mp4">
                    Your Browser does not support the Video Tag.
                </video>
            </a>
        </div>
        <div id="mobile-proj">
            <h1 id="mobile-proj-title">My Works</h1>
            <div class="mobile-proj-box">
                <a href="projects.html#project-section">
                    <img class="mobile-proj-img" src="images/home/bookstore-mobile.gif" alt="">
                </a>
                <h2 class="mobile-me-text">Book Repository Analysis for a Bookstore</h2>
                <a style="text-decoration: none;" href="projects.html#project-section">
                    <h1 class="mobile-proj-headings">Bookstore Report&rArr;</h1>
                </a>
            </div>
            <div class="mobile-proj-box">
                <a href="projects.html#project-section">
                    <img class="mobile-proj-img" src="images/home/statssptfy-mobile.jpeg" alt="stats.sptfy">
                </a>
                <h2 class="mobile-me-text" style="text-align: end;">Spotify Stats App</h2>
                <a style="text-decoration: none;" href="projects.html#project-section">
                    <h1 class="mobile-proj-headings" style="text-align: start;">Stats.Sptfy&rArr;</h1>
                </a>
            </div>
            <div class="mobile-proj-box">
                <a href="projects.html#project-section">
                    <img class="mobile-proj-img" src="images/home/trackersptfy-mobile.jpg" alt="stats.sptfy">
                </a>
                <h2 class="mobile-me-text">Spotify Music Tracker</h2>
                <a style="text-decoration: none;" href="projects.html#project-section">
                    <h1 class="mobile-proj-headings">Tracker.Sptfy&rArr;</h1>
                </a>
            </div>
        </div>
    </div>

    <section id="end-section" class="not-start">
        <div id="backgroundtemp">
            <div class="proj-name-desc">
                <p class="highlight" id="proj-name">Bookstore Report</p>
            </div>
            <div class="proj-name-desc">
                <p class="lowlight" id="proj-desc">Book Repository Analysis.</p>
            </div>
        </div>
        <div id="line">
            <div id="circle"></div>
        </div>
        <div id="mobile-final-title">
            <h1>Reuben Mattam.</h1>
        </div>
    </section>
    
    

    <footer class="footer-section not-start">
        <div class="footer-left">
            <a href="index.html" class="active">Home</a>
            <a href="projects.html">Projects</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
        </div>
        <div class="footer-center">
            <a href="home.html">
                <img src="images/logo !.png" alt="Website Logo" class="logo" />
            </a>
            <div class="social-links">
                <a href="https://www.instagram.com/reubenmattam" target="_blank" rel="noopener">
                    <img src="images/insta.png" alt="Instagram" />
                </a>
                <a href="https://www.linkedin.com/in/Reuben-Mattam/" target="_blank" rel="noopener">
                    <img src="images/linkdin.png" alt="LinkedIn" />
                </a>
                <a href="https://github.com/Reuben-Mattam" target="_blank" rel="noopener">
                    <img src="images/github.png" alt="GitHub" />
                </a>
            </div>
        </div>
        <div class="footer-right">
            <p>© 2024 Reuben Mattam</p>
        </div>
    </footer>

    <script>
        // starting animation !
        document.addEventListener("DOMContentLoaded", function () {
            const referrer = document.referrer;
            const isInternal = referrer.includes("reubenmattam.me");
        
            let navigationType = "navigate";
            if (performance.getEntriesByType("navigation").length > 0) {
                navigationType = performance.getEntriesByType("navigation")[0].type;
            }
            const isReload = navigationType === "reload";
        
            const startUpSection = document.getElementById("start-up");
            const landingPage = document.getElementById("landing-page");
        
            if (isInternal || isReload) {
                startUpSection.style.display = "none";
                landingPage.classList.add("reveal");
                document.body.style.overflow = "";
                return;
            }
        
            document.body.style.overflow = "hidden";
        
            const images = [
                "images/home/1.png",
                "images/home/2.png",
                "images/home/3.png",
                "images/home/4.png",
                "images/home/5.png",
                "images/home/6.png",
                "images/home/7.jpg",
                "images/home/7.jpg",
            ];
        
            const imgElement = document.querySelector('#start-up img[alt="me"]');
            let currentIndex = 0;
        
            // ccheck if all images have loaded
            function allImagesLoaded() {
                return images.every(src => {
                    const img = new Image();
                    img.src = src;
                    return img.complete;
                });
            }
        
            // wait for all images to load
            function waitForImagesToLoad() {
                if (allImagesLoaded()) {
                    startAnimation();
                } else {
                    setTimeout(waitForImagesToLoad, 100);
                }
            }
        
            // start the animation
            function startAnimation() {
                const flickerInterval = setInterval(() => {
                    imgElement.src = images[currentIndex];
                    currentIndex++;
                    if (currentIndex >= images.length) {
                        clearInterval(flickerInterval);
                        startUpSection.classList.add("fade-out");
        
                        setTimeout(() => {
                            startUpSection.style.display = "none";
                            landingPage.classList.add("reveal");
                            document.body.style.overflow = ""; // allow scrolling
                        }, 1600);
                    }
                }, 200); // cycle through images at 200ms per image.
            }
        
            waitForImagesToLoad();
        });

        // carousell at the bottom !
        document.addEventListener("DOMContentLoaded", function() {

            if (window.innerWidth < 650) return; // check if on mobile

            const videos = [
                'images/home/bookstore.mp4',
                'images/home/statssptfy.mp4',
                'images/home/trackersptfy.mp4'
            ];
        
            const projNames = [
                "Bookstore Report",
                "Stats.Sptfy",
                "Tracker.Sptfy"
            ];
        
            const projDescs = [
                "Book Repository Analysis",
                "Spotify Stats App",
                "Spotify Music Tracker"
            ];
        
            let currentIndex = 0;
            const videoElement = document.getElementById("video");
            const projNameElement = document.getElementById("proj-name");
            const projDescElement = document.getElementById("proj-desc");
        
            function rotateContent() {
                videoElement.classList.add("fade-out");
        
                setTimeout(function(){
                    currentIndex = (currentIndex + 1) % videos.length;
                    videoElement.src = videos[currentIndex];
                    videoElement.load();
                    videoElement.play();
        
                    projNameElement.textContent = projNames[currentIndex];
                    projDescElement.textContent = projDescs[currentIndex];
        
                    videoElement.classList.remove("fade-out");
                }, 500); // fade out duration 500ms
            }
        
            // video, text swap every 10 seconds
            setInterval(rotateContent, 10000);
        });
    </script>
</body>
</html>